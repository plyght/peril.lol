---
import { ViewTransitions } from 'astro:transitions';
const { title, description } = Astro.props;
---

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<meta name="color-scheme" content="dark light" />
<link rel="icon" href="/images/pfp.png" />
<meta name="generator" content={Astro.generator} />
<meta name="description" content={description || "plyght's personal website - Student & Full Stack Developer"} />
<title>{title}</title>

<!-- Add View Transitions for smooth navigation -->
<ViewTransitions fallback="swap" />

<!-- Preload critical assets -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  rel="preload"
  href="/fonts/cohere/CohereHeadline-Regular.ttf"
  as="font"
  type="font/ttf"
  crossorigin
/>

<!-- Preload banner image for LCP improvement -->
<link rel="preload" href="/images/banner_fixed.png" as="image" />

<!-- Stylesheets with critical CSS inlined -->
<link rel="stylesheet" href="/styles/reset.css" />
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap"
  media="print" 
  onload="this.media='all'"
/>
<noscript>
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&display=swap"
  />
</noscript>
<link rel="stylesheet" href="/styles/ibm-plex-mono.css" />
<link rel="stylesheet" href="/styles/mono.css" />
<link rel="stylesheet" href="/styles/animations.css" />
<link rel="stylesheet" href="/styles/grain.css" />
<link rel="stylesheet" href="/styles/cohere-font.css" />
<link rel="stylesheet" href="/styles/index.css" />

<!-- Performance optimizations -->
<script>
  // Add 'js-enabled' class to html element for progressive enhancement
  document.documentElement.classList.add('js-enabled');

  // Disable animations on page load, then enable after page is loaded
  document.documentElement.classList.add('no-animations');
  window.addEventListener('load', () => {
    setTimeout(() => {
      document.documentElement.classList.remove('no-animations');
    }, 300);
  });
</script>
